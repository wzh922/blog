# 东北林业大学实习报告
**学生**：王志浩  
**学号**：2022212925  
**专业、班级**：2022级人工智能2班  
**学院**：计算机与控制工程学院  
**指导教师**：苗岩  
**日期**：2025年11月7日  

| 基本情况 | 详情 |
| --- | --- |
| 实习名称 | 科学计算与系统建模仿真系统开发 |
| 实习时间 | 2025年10月13日至2025年11月7日 |
| 实习单位 | 东北林业大学 |
| 实习地点 | 丹青902 |
| 指导教师/职称 | 苗岩 |

## 实习目的
1. 熟悉国产化科学计算与系统建模仿真系统MWORKS科学计算环境MWORKS.Syslab的基本功能和基本操作方法。
2. 熟悉国产化科学计算与系统建模仿真系统MWORKS系统建模仿真环境MWORKS.Sysplorer的基本功能和基本操作方法。
3. 基于Pygame与NumPy，编程实现一个动态化、可视化的污染物扩散仿真功能模块，掌握科学计算与系统建模仿真的核心流程。

## 实习内容
### 理论学习阶段（第1周）
系统学习了MWORKS平台的架构与设计理念，了解其在装备数字化工程中的核心地位，同时补充学习了Pygame可视化开发框架和NumPy数值计算库的核心用法。通过官方文档和技术教程，掌握了MWORKS.Syslab的代码编辑器、调试器、包管理器等核心功能，同时熟练运用NumPy数组操作、Pygame图形绘制与事件处理等关键技术。学习了科学计算中“平流-扩散-衰减”的核心物理模型，以及如何将物理规律转化为可执行的代码逻辑，为后续项目开发奠定理论与技术基础。

### 建模与仿真入门（第2周）
重点学习了MWORKS.Sysplorer的图形化建模方法，包括框图建模和物理建模，通过简单RC电路模型熟悉了建模、参数设置、仿真运行的完整流程。对比了Sysplorer与MATLAB/Simulink的建模范式差异，加深了对多领域统一建模规范Modelica的理解。同时，结合污染物扩散场景，拆解了仿真核心需求：动态污染源模拟、风向驱动的平流过程、污染物扩散计算、实时可视化展示，明确了“物理模型→算法设计→代码实现→界面优化”的开发路径。

### 项目开发与实践（第3-4周）
1. **项目选题**：确定“动态污染物扩散仿真”为最终项目，聚焦环境监测场景下的污染物迁移规律模拟。
2. **算法设计**：基于流体力学原理，设计“平流-扩散-衰减”三位一体的核心算法。平流过程通过风向角度转化为速度分量，控制污染物随气流迁移；扩散过程采用邻域浓度差计算，模拟污染物自然扩散趋势；衰减过程加入衰减系数，还原污染物自然降解特性。同时设计动态污染源模型，让排放源按随机角度缓慢移动，模拟现实中移动排放场景。
3. **代码实现**：结合Pygame与NumPy编写仿真程序，核心部分包括：浓度场数组初始化、污染源动态更新、平流/扩散/衰减计算、交互式图形界面构建。利用NumPy高效处理浓度场数据，通过Pygame实现网格绘制、等高线渲染、风向指示器展示等可视化功能。
4. **系统集成与调试**：将各功能模块集成，解决了三大技术难点：一是虚像绘制与实时刷新，通过优化绘图逻辑避免重复渲染；二是交互响应延迟，通过跳点采样和计算范围优化提升帧率；三是动态风向平滑过渡，设计渐变算法避免风向突变。确保程序稳定运行与交互流畅。
5. **功能测试与优化**：在不同参数组合（不同风速、扩散系数、污染源强度）下进行充分测试，验证仿真结果与物理规律的一致性。优化图形界面布局，设计从深蓝到深红的浓度渐变色彩映射，添加仿真时间、FPS、最大浓度等实时统计面板，提升用户体验与数据可读性。

## 解决的主要问题及效果
1. **问题**：仿真帧率过低，交互响应延迟。
   - 描述：初期采用200×200网格双重循环计算，且全量绘制图形，导致帧率低于10FPS，拖动交互时存在明显卡顿。
   - 解决方案：优化计算逻辑，仅对网格内部区域进行扩散计算，减少冗余运算；绘图时采用跳点采样绘制等高线，使用Pygame透明表面单独处理图层，避免全屏幕反复刷新。
   - 效果：帧率稳定在60FPS左右，实现近乎实时的交互响应，用户可平滑观察参数变化对污染物扩散的影响。

2. **问题**：动态风向与污染物迁移的适配逻辑不清晰。
   - 描述：初始设计中风向直接突变，导致污染物迁移轨迹生硬，不符合现实中大气流动规律。
   - 解决方案：设计风向平滑过渡算法，每200帧生成随机目标风向，通过小步长迭代让当前风向逐步逼近目标值，同时将风向角度转化为x/y方向速度分量，精准控制污染物平流方向。
   - 效果：风向变化自然流畅，污染物迁移轨迹贴合实际气流运动规律，仿真真实性显著提升。

3. **问题**：浓度可视化区分度低，数据难以解读。
   - 描述：初期采用单一颜色深浅表示浓度，低浓度区域与背景混淆，无法直观区分污染范围。
   - 解决方案：设计多梯度色彩映射，从深蓝（低浓度）到深红（高浓度）分为256级，搭配等高线边界标记，同时添加浓度刻度图例和实时统计面板。
   - 效果：污染范围、浓度梯度一目了然，非技术人员也能快速理解仿真结果，提升了系统的实用性与可读性。

## 学生自我总结
为期二十天的实习让我受益匪浅，不仅系统掌握了MWORKS平台的核心功能，更完成了一次从“理论建模”到“工程落地”的完整实践。在技术层面，我深化了对NumPy数值计算、Pygame可视化开发的理解，熟练掌握了科学仿真中物理模型转化为代码的关键方法，尤其是“平流-扩散-衰减”算法的实现，让我对科学计算的核心逻辑有了直观认知。

在软技能层面，独立解决问题的能力得到极大锻炼。从初期帧率过低的焦虑，到通过代码优化实现流畅交互；从风向逻辑的混乱，到设计平滑过渡算法，每一次问题解决都让我学会了“拆解需求、定位瓶颈、逐步突破”的工程思维。同时，撰写实习报告和日志的过程，也提升了我的文档撰写与归纳总结能力。

通过此次实习，我深刻体会到科学仿真的价值——它不仅是技术的堆砌，更是对现实场景的抽象与还原，能够为环境监测、应急处置等实际场景提供数据支撑。这段经历让我认识到国产工业软件的强大潜力，也让我明确了“技术服务于实际问题”的学习方向。感谢苗岩老师的悉心指导与学校提供的宝贵实习机会，这段经历为我未来的毕业设计和职业生涯打下了坚实基础。

## 指导教师评阅
签字：__________  
日期：____年__月__日  

---

# 东北林业大学学生实习日志
**学院**：计算机与控制工程学院  
**专业**：人工智能  
**姓名**：王志浩  

| 实习地点：丹青902 时间：2025年10月13日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>实习启动，了解实训整体安排与要求，明确需完成科学计算与系统建模仿真功能模块。阅读实训方案，确定以“污染物扩散仿真”为项目方向。安装配置MWORKS.Syslab环境，同时安装Pygame与NumPy库，完成开发环境搭建。 |
| 小结：<br/>初步明确实习目标与项目方向，开发环境配置顺利，对Pygame可视化与NumPy数值计算的结合使用充满期待，为后续学习奠定基础。 |

| 实习地点：丹青902 时间：2025年10月14日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>系统学习MWORKS.Syslab界面布局与核心功能，包括资源管理器、代码编辑器、REPL命令行窗口的使用。完成简单Julia程序，同时学习Pygame基础操作，实现窗口创建、纯色矩形绘制与事件退出功能。 |
| 小结：<br/>熟悉了Syslab的工作环境，Pygame的图形绘制逻辑简洁直观，初步掌握了“创建窗口→绘制元素→事件循环”的可视化开发流程。 |

| 实习地点：丹青902 时间：2025年10月15日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>深入学习NumPy核心用法，包括数组创建、索引切片、广播机制与数学运算。学习使用NumPy构建二维浓度场数组，模拟污染物初始分布。尝试用Pygame将浓度场数组以网格形式可视化，实现不同浓度对应不同颜色的基础展示。 |
| 小结：<br/>NumPy的数组操作高效便捷，为后续浓度场计算提供了技术支撑。成功实现浓度场可视化雏形，理解了“数据→图形”的转化逻辑。 |

| 实习地点：丹青902 时间：2025年10月16日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>学习科学计算中污染物扩散的核心物理模型，重点理解“平流-扩散-衰减”三大过程的原理。编写简单函数实现扩散过程的基础计算，通过NumPy邻域求和模拟污染物扩散趋势，测试不同扩散系数对结果的影响。 |
| 小结：<br/>初步掌握了扩散模型的数学表达与代码转化，认识到参数设置对仿真结果的关键作用，为后续完整算法设计积累经验。 |

| 实习地点：丹青902 时间：2025年10月17日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>开始学习MWORKS.Sysplorer图形化建模，了解框图建模与物理建模的基本操作。通过简单RC电路模型，体验创建组件、连接信号线、设置参数、运行仿真的完整流程。同时补充学习风向与平流过程的关联逻辑，推导风向角度转化为速度分量的公式。 |
| 小结：<br/>Sysplorer的图形化建模降低了复杂系统的设计门槛，平流过程的数学推导让我更清晰地理解了“物理规律→数学模型→代码实现”的路径。 |

| 实习地点：丹青902 时间：2025年10月20日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>深入学习Sysplorer的物理建模与Modelica语言基础，对比文本建模与图形化建模的优缺点。结合污染物扩散项目，拆解开发任务：浓度场初始化、污染源设置、平流/扩散/衰减计算、可视化展示、交互功能添加。 |
| 小结：<br/>任务拆解让开发目标更明确，Modelica语言的面向对象特性为复杂系统建模提供了思路，也启发我在Python代码中注重模块化设计。 |

| 实习地点：丹青902 时间：2025年10月21日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>完善项目算法设计，绘制详细流程图：参数初始化→污染源更新→平流计算→扩散计算→衰减处理→图形绘制→事件响应。明确各模块的输入输出的参数，设计动态污染源的移动逻辑，包括角度变化、边界反弹规则。 |
| 小结：<br/>详细的流程图避免了开发的盲目性，动态污染源的逻辑设计考虑了现实场景的合理性，为后续代码实现提供了清晰指引。 |

| 实习地点：丹青902 时间：2025年10月22日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>开始编写核心代码，基于流程图实现参数初始化模块，创建200×200的浓度场数组，定义风速、扩散系数、衰减率等关键参数。实现污染源类，包含位置、强度、移动速度、角度等属性，编写污染源位置更新函数。 |
| 小结：<br/>模块化编码让代码结构更清晰，污染源的属性设计满足了动态移动需求，初步测试显示位置更新逻辑正确，为后续核心计算模块奠定基础。 |

| 实习地点：丹青902 时间：2025年10月23日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>实现平流计算模块，将风向角度转化为x/y方向速度分量（u/v），通过浓度梯度计算污染物随气流的迁移量。编写扩散计算函数，基于邻域浓度差实现污染物扩散逻辑，测试不同风速和扩散系数下的仿真效果。 |
| 小结：<br/>平流与扩散模块的核心算法实现顺利，通过调整参数能观察到污染物迁移趋势的明显变化，验证了算法的合理性。 |

| 实习地点：丹青902 时间：2025年10月24日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>添加衰减处理模块，设置衰减系数为0.992，模拟污染物自然降解过程。实现Pygame可视化核心功能，将浓度场数组转化为网格图形，设计从深蓝到深红的渐变色彩映射，区分不同浓度等级。 |
| 小结：<br/>成功实现完整的“平流-扩散-衰减”计算与基础可视化，色彩映射让污染范围更直观，看到抽象的物理过程转化为可视化图形，成就感十足。 |

| 实习地点：丹青902 时间：2025年10月27日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>优化可视化效果，添加等高线绘制功能，通过浓度阈值筛选等高线边界，使用透明表面单独绘制等高线，提升图形层次感。学习Pygame事件处理，添加ESC键退出功能，测试程序稳定性。 |
| 小结：<br/>等高线的添加让浓度分布更清晰，事件处理功能提升了程序的易用性，但发现等高线绘制存在冗余计算，导致帧率偏低，需后续优化。 |

| 实习地点：丹青902 时间：2025年10月28日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>针对帧率过低问题进行优化，将等高线绘制改为跳点采样（每2个像素点采样一次），减少绘制次数；优化扩散计算逻辑，仅对网格内部区域进行计算，避免边界重复运算。测试优化后帧率，提升至40FPS左右。 |
| 小结：<br/>性能优化效果显著，通过减少冗余计算和绘制次数，有效提升了程序运行效率，认识到“代码简洁性”与“运行效率”的平衡重要性。 |

| 实习地点：丹青902 时间：2025年10月29日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>设计动态风向更新功能，每200帧生成随机目标风向，通过小步长迭代实现风向平滑过渡，避免突变。添加风向指示器，用箭头直观展示当前风向与风速，在界面添加实时统计面板，显示仿真时间、FPS、最大浓度等参数。 |
| 小结：<br/>动态风向让仿真更贴近现实，风向指示器与统计面板提升了程序的实用性和可读性，用户能快速获取关键仿真信息。 |

| 实习地点：丹青902 时间：2025年10月30日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>进行全面功能测试，遍历不同参数组合（风速2-5m/s、扩散系数0.1-0.5、污染源强度3-6），验证污染物扩散轨迹与物理规律的一致性。测试动态污染源的边界反弹功能，确保无越界问题，检查可视化效果是否正常。 |
| 小结：<br/>所有测试用例均通过，仿真结果符合预期，污染物扩散轨迹随参数变化规律清晰，程序稳定性良好，核心功能已达标。 |

| 实习地点：丹青902 时间：2025年10月31日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>整理和注释项目代码，按功能模块划分代码区域，添加详细注释说明核心算法逻辑与参数含义。撰写项目设计文档，包括项目背景、需求分析、核心算法、使用说明等内容，规范文档格式。 |
| 小结：<br/>代码注释与文档撰写让项目更具可读性和可维护性，梳理文档的过程也是对项目逻辑的再梳理，提升了工程素养。 |

| 实习地点：丹青902 时间：2025年11月3日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>开始撰写实习报告初稿，重点完成“实习目的”“实习内容”“解决的主要问题”等部分。梳理实习期间的技术学习与项目开发流程，详细记录算法设计与代码实现的关键步骤。 |
| 小结：<br/>撰写报告的过程是对实习收获的系统梳理，让我更清晰地回顾了从理论学习到项目落地的完整路径，加深了对核心技术的理解。 |

| 实习地点：丹青902 时间：2025年11月4日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>继续撰写实习报告，完成“学生自我总结”部分，反思实习期间的技术成长与不足。整理20天实习日志草稿，补充每日实习的细节内容，确保日志与实习报告的一致性。 |
| 小结：<br/>自我总结让我认识到工程思维与问题解决能力的提升，日志整理则帮助我回顾了每日的进步与收获，为实习成果归档做好准备。 |

| 实习地点：丹青902 时间：2025年11月5日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>对实习报告进行通读、修改与润色，检查格式规范、语言通顺度与逻辑连贯性。优化项目代码的细节，调整图形界面的布局，让统计面板与可视化区域更协调，提升用户体验。 |
| 小结：<br/>精益求精是工程实践的重要原则，报告的修改与代码的细节优化，不仅提升了成果质量，也培养了严谨的工作态度。 |

| 实习地点：丹青902 时间：2025年11月6日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>最终定稿实习日志，确保每日内容完整、准确。准备项目答辩演示文稿，梳理项目开发流程、核心算法、解决的关键问题与仿真效果，设计演示步骤，突出项目亮点。 |
| 小结：<br/>答辩准备让我能够清晰地梳理项目逻辑与成果，演示文稿的设计注重直观性，便于向老师和同学展示项目的核心价值。 |

| 实习地点：丹青902 时间：2025年11月7日 指导教师：苗岩 |
| --- |
| 实习内容：<br/>最终检查所有提交材料，包括源代码、可执行文件、设计文档、实习报告、实习日志，确保无遗漏。参加实习答辩，演示污染物扩散仿真系统的动态效果，解答老师和同学的提问。 |
| 小结：<br/>答辩顺利完成，项目得到老师肯定。为期二十天的实习圆满结束，不仅掌握了科学仿真的核心技术，更培养了工程思维与问题解决能力，这段经历将为未来发展奠定坚实基础。 |

要不要我帮你整理一份**污染物扩散仿真项目核心代码注释文档**，方便后续答辩展示或代码复用？